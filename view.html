<!DOCTYPE html>
<html>
<head>
	<title>view</title>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script>
	function update() 
	{
			location.href="update.html";
	}
</script>
<script >
	function Delete(id) {

	$.ajax({
		url :'https://reqres.in/api/delete/'+id,
		method: 'DELETE',
		success: function (){
			alert('record has been deleted');
			location.reload();

		},
		error: function(error){
			alert(error);}
	})	// body...
	}

</script>
<style>
	#container{
			
			min-height: 100vh;
		}
		.top
		{
			height: 50vh;
			
			position: relative;
		}
		.bottom
		{
			height: 50vh;
			background-color: white;
		}
		
		table {
			    width: 50%;
			}
			th {
			    background: #f1f1f1;
			    font-weight: bold;
			    padding: 6px;
			}
			td {
			    background: #f9f9f9;
			    padding: 6px;
			}

</style>

</head>
<body>
	<div class="container">
		<div class="top">
			<H2 style="margin-left: 45%;margin-top: 10%;">Table Data</H2>
		<table class="table table-stripped" id="view" style="margin-left: 25%;margin-top: 5%;">
		<tbody id="data">
			
				<tr>
					<thead>
					<th>Id</th>
					<th>Name</th>
					<th>Pantone_value</th>
					<th>Year</th>
					<th>Color</th>
					<th>Update</th>
					<th>Delete</th>
				</thead>

				</tr>
			
			
		</tbody>
		</div>
	</div>

	</table>
	<div class="bottom">
	<script>
        fetch("https://reqres.in/api/userslist").then(
        	res=>{
        		res.json().then(
        			data=>{
						console.log(data.data);
						if(data.data.length>0){
						  var temp="";
						  data.data.forEach((u)=>{
							temp += "<tr>";
							temp += "<td>"+u.id+"</td>";
							temp += "<td>"+u.name+"</td>";
							temp += "<td>"+u.pantone_value+"</td>";
							temp += "<td>"+u.year+"</td>";
							temp += "<td>"+u.color+"</td>";
							temp += "<td><button onclick='update()'>Update</button></td>";
							temp += "<td><button onclick='Delete("+u.id+")'>Delete</button></td>";
							temp += "</tr>";
						})
					document.getElementById("data").innerHTML=temp;
						}
					}
        	
        	
        		)
        	}
        	)
		
	</script>
	
  </div>
</body>
</html>
